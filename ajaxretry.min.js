/*!
 * ajaxRetry
 * https://github.com/gdibble/ajaxretry
 * Copyright 2014 Gabriel Dibble; Licensed MIT
 */
!function(define){define(function(require,exports,module){"use strict";function setOptions(e){_.defaults(e,settings),settings=e}function exponentialDelay(e){return 1e3*(Math.pow(settings.base,e)-settings.y)}function exhausted(){var e=Array.prototype.slice.call(arguments,0);_.extend(e[0],this),this.hasOwnProperty("exhaust")&&this.exhaust.apply(this,e)}function ajaxRetry(e){var t=this;this.hasOwnProperty("retries")?(this.recursed=void 0===this.recursed?0:this.recursed+1,e&&e.status<500||this.recursed>=this.retries?exhausted.apply(t,arguments):this.recursed<this.retries&&setTimeout(function(){$.ajax(t)},exponentialDelay(this.recursed))):exhausted.apply(t,arguments)}function extender(){}function sliceArguments(){}var _$ajax=$.ajax,_=require("underscore"),settings={base:2.718281828,y:.25,retryCount:3};$.ajax=function(e){var t=Array.prototype.slice.call(arguments,0);return _.extend(t[0],e?e:{},{retries:settings.retryCount,error:function(){ajaxRetry.apply(this,arguments)}}),_$ajax.apply($,t)},module.exports={set:setOptions}})}("function"==typeof define&&define.amd?define:function(factory){factory(require,exports,module)});
