/*!
 * ajaxRetry
 * https://github.com/gdibble/ajaxretry
 * Copyright 2015 Gabriel Dibble; Licensed MIT
 */
var defaults=require("lodash.defaults"),extend=require("extend-object");!function(e){e(function(e,t,r){function s(e){defaults(e,f),f=e}function n(e){return 1e3*(Math.pow(f.base,e)-f.y)}function u(){var e=Array.prototype.slice.call(arguments,0);extend(e[0],this),this.hasOwnProperty("exhaust")&&this.exhaust.apply(this,e)}function i(e){var t=this;this.hasOwnProperty("retries")?(this.recursed=void 0===this.recursed?0:this.recursed+1,e&&e.status<500||this.recursed>=this.retries?u.apply(t,arguments):this.recursed<this.retries&&setTimeout(function(){$.ajax(t)},n(this.recursed))):u.apply(t,arguments)}function a(e,t){extend(e[0],t&&"object"==typeof t?t:{},{retries:f.retryCount,error:function(){i.apply(this,arguments)}})}function o(){return Array.prototype.slice.call(arguments,0)}var c=$.ajax,f={base:2.718281828,y:.25,retryCount:3};$.ajax=function(e){var t;return"string"==typeof e?(arguments[1].url=e,t=o(arguments[1]),a(t,e)):(t=o(arguments),a(t,e)),c.apply($,t)},r.exports={set:s}})}("function"==typeof define&&define.amd?define:function(e){e(require,exports,module)});